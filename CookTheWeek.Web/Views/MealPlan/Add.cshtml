@model MealPlanAddFormModel
@{
    ViewData["Title"] = "Add Meal Plan";

}
<div id="add-mealplan" class="container">
    <h2 class="text-center pt-5 fw-semibold">Add Meal Plan</h2>
    <div class="px-4 px-lg-0">

        <div class="pb-5">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-5">

                        <!-- Shopping cart table -->
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col" class="border-0 bg-light">
                                            <div class="p-2 px-3 text-uppercase">Recipe</div>
                                        </th>
                                        <th scope="col" class="border-0 bg-light">
                                            <div class="py-2 text-uppercase">Servings</div>
                                        </th>
                                        <th scope="col" class="border-0 bg-light">
                                            <div class="py-2 text-uppercase">Date To Cook</div>
                                        </th>
                                        <th scope="col" class="border-0 bg-light">
                                            <div class="py-2 text-uppercase">Remove</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- For each -->
                                    @foreach (var meal in Model.Meals)
                                    {
                                        <tr>
                                            <th scope="row" class="border-0">
                                                <div class="p-2">
                                                    <img src="@Model." alt="" width="70" class="img-fluid rounded shadow-sm">
                                                    <div class="ml-3 d-inline-block align-middle">
                                                        <h5 class="mb-0"> <a href="#" class="text-dark d-inline-block align-middle">@meal.Title</a></h5><span class="text-muted font-weight-normal font-italic d-block">Category: @meal.CategoryName</span>
                                                    </div>
                                                </div>
                                            </th>
                                            <td class="border-0 align-middle">
                                                <strong>
                                                    <div class="input-group">
                                                        <span class="input-group-text">For</span><select class="form-control" asp-for="@meal.Servings">
                                                            <option value="">Choose</option>
                                                            @foreach (var option in @meal.SelectServingOptions)
                                                            {
                                                                <option value="@option">@option</option>
                                                            }
                                                        </select>
                                                        <span asp-validation-for="@meal.Servings" class="small text-danger"></span>
                                                    </div>
                                                </strong>
                                            </td>
                                            <td class="border-0 align-middle">
                                                <strong>
                                                    <div class="input-group">
                                                        <span class="input-group-text">Date</span>
                                                        <select class="form-control" asp-for="@meal.Date">
                                                            <option value="">Choose</option>
                                                            @foreach (var option in @meal.SelectDates)
                                                            {
                                                                <option value="@option">@option</option>
                                                            }
                                                        </select>
                                                        <span asp-validation-for="@meal.Date" class="small text-danger"></span>
                                                    </div>
                                                </strong>
                                            </td>
                                            <td class="border-0 align-middle">
                                                <div class="remove-btn-container">
                                                    <a data-recipeId="@meal.RecipeId" class="minus">
                                                        <i class="fa fa-minus" aria-hidden="true"></i>
                                                    </a>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                        <!-- End -->
                    </div>
                </div>

                <div class="row pt-5 p-4 bg-white rounded shadow-sm">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Name Your Meal Plan</div>
                            <div class="p-4">
                                <p class="font-italic mb-4">In order to be able to differ between your meal plans, give it a meaningful and describeful name</p>
                                <div class="input-group">
                                    <span class="input-group-text">Name</span>
                                    <input asp-for="Name" class="form-control" placeholder="Name it.." type="text">
                                    <span asp-validation-for="Name" class="small text-danger"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Meal Plan summary </div>
                            <div class="p-4">
                                <p class="font-italic mb-4">
                                    Shopping List of needed Products will be affected by the Serving Sizes you enter in the Servings menu for every Recipe.
                                    <br>
                                    <br>
                                    Make sure to check them properly!
                                </p>
                                <ul class="list-unstyled mb-4">
                                    <li class="d-flex justify-content-between py-3 border-bottom">
                                        <strong class="text-muted">Total Recipes </strong><strong>@Model.Meals.Count</strong>
                                    </li>
                                </ul>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col d-flex justify-content-between align-middle p-4 pt-0">
                            <a asp-area="" asp-controller="MealPlan" asp-action="Add" class="btn btn-primary py-2 btn-block">Save Meal Plan</a>
                            <a asp-area="" asp-controller="Recipe" asp-action="All" class="btn btn-outline-primary py-2 btn-block">Go Back To Recipes</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />   
    <script>        
    </script>    
}
